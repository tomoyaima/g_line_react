{"ast":null,"code":"var _jsxFileName = \"/Users/imatomo/Desktop/gline-react/src/components/login.js\";\nimport React from \"react\";\nimport \"../bower_components/materialize/dist/css/materialize.css\";\nimport { BrowserRouter, Route, Link } from 'react-router-dom';\nimport { db } from '../firebase';\nimport firebase from '../firebase';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.save = e => {\n      e.preventDefault();\n      const user = firebase.auth().currentUser;\n\n      if (user) {\n        db.collection(\"users\").doc(user.uid).set({\n          name: user.displayName,\n          pic: user.photoURL || '/images/profile_placeholder.png',\n          email: user.email,\n          course: this.state.course,\n          nickname: this.state.nickname\n        }).then(() => {\n          console.log(\"\\u8FFD\\u52A0\\u306B\\u6210\\u529F\\u3057\\u307E\\u3057\\u305F \");\n        }).catch(error => {\n          console.log(\"\\u8FFD\\u52A0\\u306B\\u5931\\u6557\\u3057\\u307E\\u3057\\u305F (\".concat(error, \")\"));\n        });\n      }\n    };\n\n    this.state = {\n      course: '',\n      nickname: ''\n    };\n    this.handleInput = this.handleInput.bind(this);\n    this.send = this.save.bind(this);\n  }\n\n  handleInputText(event) {\n    this.setState({\n      nickname: event.target.value\n    });\n  }\n\n  handleInput({\n    target: {\n      value\n    }\n  }) {\n    this.setState({\n      course: value\n    });\n  }\n\n  render() {\n    console.log(this.props.user);\n    return React.createElement(BrowserRouter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, this.props.user ? React.createElement(\"div\", {\n      className: \"header-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"header-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    })) : React.createElement(\"div\", {\n      className: \"header-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"App-intro\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    })), this.props.user ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"\\u540D\\u524D: \", this.props.user && this.props.user.displayName), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"E-mail: \", this.props.user && this.props.user.email), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.props.user.photoURL || '/images/profile_placeholder.png',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"\\u30CB\\u30C3\\u30AF\\u30CD\\u30FC\\u30E0\\u3092\\u5165\\u529B:\", React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.nickname,\n      onChange: this.handleInputText.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    })), React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      name: \"course\",\n      value: this.state.course,\n      onChange: this.handleInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"web\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \" web\"), React.createElement(\"option\", {\n      value: \"game\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \" game\"), React.createElement(\"option\", {\n      value: \"iphone\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"iphone\")), this.state.nickname = '' ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"\\u540D\\u524D\\u3092\\u5165\\u529B\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\") : React.createElement(\"button\", {\n      onClick: this.save,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/index\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"geek-line\\u306B\\u767B\\u9332\"))), React.createElement(\"li\", {\n      className: \"gline-logout\",\n      onClick: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"\\u30ED\\u30B0\\u30A2\\u30A6\\u30C8\"))) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    })), React.createElement(\"footer\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"footer-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/imatomo/Desktop/gline-react/src/components/login.js"],"names":["React","BrowserRouter","Route","Link","db","firebase","Login","Component","constructor","props","save","e","preventDefault","user","auth","currentUser","collection","doc","uid","set","name","displayName","pic","photoURL","email","course","state","nickname","then","console","log","catch","error","handleInput","bind","send","handleInputText","event","setState","target","value","render","logout"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"../bower_components/materialize/dist/css/materialize.css\";\nimport { BrowserRouter, Route, Link } from 'react-router-dom'\nimport { db } from '../firebase'\nimport firebase from '../firebase'\n\n\n\n\n\nclass Login extends React.Component{\n    constructor(props){\n        super(props)\n        this.state={\n            course: '',\n            nickname: ''\n        }\n        this.handleInput = this.handleInput.bind(this);\n    this.send = this.save.bind(this);\n    }\n\n    handleInputText(event) {\n        this.setState({\n            nickname: event.target.value\n        })\n      }　　\n\n    handleInput({ target: { value } }) {\n        this.setState({\n          course: value\n        });\n      }\n      \n    save=(e)=>{\n        e.preventDefault()\n\n        const user = firebase.auth().currentUser\n        if( user ){\n            db.collection(\"users\").doc(user.uid).set({\n                name: user.displayName,\n                pic: user.photoURL || '/images/profile_placeholder.png',\n                email: user.email,\n                course: this.state.course,\n                nickname:this.state.nickname\n            })\n            .then(() => {\n                console.log(`追加に成功しました `);\n            })\n            .catch((error) => {\n                console.log(`追加に失敗しました (${error})`);\n            });\n        }\n    }\n\n\n    render(){\n        console.log(this.props.user)\n        return(\n            <BrowserRouter>\n            <div>\n                 <header>\n                 { this.props.user?\n                 (\n                    <div className=\"header-content\">\n                        <ul className=\"header-list\">\n\n                        </ul>\n                      \n                    </div>\n                )\n                :\n                (\n                    <div className=\"header-content\">\n\n                        \n                    </div>\n\n                \n                \n\n                )}  \n                </header>\n                <div className=\"main\">\n                <div className=\"App\">\n                     <p className=\"App-intro\">\n        \n        </p>\n\n       \n      </div>\n      {this.props.user ? (\n          <div>\n                <div>名前: {this.props.user && this.props.user.displayName}</div>\n                <div>E-mail: {this.props.user && this.props.user.email}</div>\n                <div><img src  ={this.props.user.photoURL || '/images/profile_placeholder.png'}></img></div>\n                    <div>ニックネームを入力:\n                    <input type='text' value={this.state.nickname} onChange={this.handleInputText.bind(this)}/>\n                    </div>\n                    <form>\n                        <select name = \"course\" value={this.state.course} onChange={this.handleInput}>\n                            <option value=\"web\"> web</option>\n                            <option value=\"game\"> game</option>\n                            <option value=\"iphone\">iphone</option>\n                        </select>\n                        {this.state.nickname = '' ?\n                        (\n                            <div>名前を入力してください</div> \n                        ):(\n                            <button onClick={this.save}><Link to='/index'>geek-lineに登録</Link></button>\n                        )\n                        }\n                \n                    </form>\n                \n                <li className=\"gline-logout\" onClick={this.logout}><Link to='/'>ログアウト</Link></li>\n                </div>\n                ) : (\n                   <div></div>\n                    )}\n                </div>\n\n                <footer>\n                    <div className=\"footer-content\">\n\n                    </div>\n                </footer>\n            </div>\n            </BrowserRouter>\n        );\n    }\n}\n\n\n\nexport default Login"]},"metadata":{},"sourceType":"module"}