{"ast":null,"code":"var _jsxFileName = \"/Users/imatomo/Desktop/gline-react/src/components/Index.js\";\nimport React from \"react\";\nimport \"../bower_components/materialize/dist/css/materialize.css\";\nimport \"./style.css\";\nimport Post from \"./Post\";\nimport { db } from '../firebase';\nimport firebase from '../firebase';\nimport { BrowserRouter, Route, Link } from 'react-router-dom';\nimport { storage } from '../firebase';\nimport Detail from \"./Detail\";\n\nclass Index extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.changepost = () => {\n      this.setState({\n        postpage: false\n      });\n    };\n\n    this.post = () => {\n      if (this.state.postpage == true) {\n        this.setState({\n          postpage: false\n        });\n      } else {\n        this.setState({\n          postpage: true\n        });\n      }\n    };\n\n    this.state = {\n      posts: [],\n      postpage: false,\n      user: null,\n      pictureurl: \"\",\n      detail: []\n    };\n  }\n\n  render() {\n    console.log(this.state);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, this.props.user && this.state.postpage == false && this.state.posts.map((post, i) => {\n      return React.createElement(\"div\", {\n        key: i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/posts/\".concat(post.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, post.title), post.body, post.postimageurl && post.postimageurl.map((imageurl, j) => {\n        return React.createElement(\"div\", {\n          key: j,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: imageurl,\n          className: \"post-image\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }));\n      }), post.course, post.nickname, post.favcount, post.librarycount);\n    }), this.props.user && this.state.postpage ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Post, {\n      user: this.state.user,\n      postpage: this.state.postpage,\n      changepost: this.changepost,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      onClick: this.changepost,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"\\u6295\\u7A3F\\u3092\\u3084\\u3081\\u308B\")) : React.createElement(\"a\", {\n      class: \"btn-floating btn-large waves-effect waves-light red\",\n      onClick: this.post,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"material-icons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"add\")), React.createElement(Route, {\n      path: \"/posts\",\n      render: () => React.createElement(ExactPost, {\n        logout: this.logout,\n        user: this.state.user,\n        isLogging: this.state.isLogging,\n        index: this.state.index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/posts/:id\",\n      render: () => React.createElement(Detail, {\n        logout: this.logout,\n        user: this.state.user,\n        isLogging: this.state.isLogging,\n        index: this.state.index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Index;","map":{"version":3,"sources":["/Users/imatomo/Desktop/gline-react/src/components/Index.js"],"names":["React","Post","db","firebase","BrowserRouter","Route","Link","storage","Detail","Index","Component","constructor","props","changepost","setState","postpage","post","state","posts","user","pictureurl","detail","render","console","log","map","i","id","title","body","postimageurl","imageurl","j","course","nickname","favcount","librarycount","logout","isLogging","index"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"../bower_components/materialize/dist/css/materialize.css\";\nimport \"./style.css\";\nimport Post from \"./Post\"\nimport { db } from '../firebase'\nimport firebase from '../firebase'\nimport { BrowserRouter, Route, Link } from 'react-router-dom'\nimport { storage } from '../firebase'\nimport Detail from \"./Detail\"\n\n\nclass Index extends React.Component{\n    constructor(props){\n        super(props)\n        this.state={\n            posts:[],\n            postpage:false,\n            user:null,\n            pictureurl:\"\",\n            detail:[]\n\n\n        }\n        \n    }\n\n    changepost=()=>{\n        this.setState({\n        postpage:false\n    })\n    }\n\n   \n\n   \n    post = () =>{\n        if(this.state.postpage==true){\n        this.setState({\n            postpage:false\n        })\n         }else{\n        this.setState({\n            postpage : true\n        })  \n    }\n    }\n\n\n    render(){\n        console.log(this.state)\n        return(\n            <div>\n\n                {this.props.user&&\n                this.state.postpage==false&&\n                     this.state.posts.map((post,i) => { \n                       \n                        \n                      return(\n                            <div key={i}>\n                                <Link to={`/posts/${post.id}`}>{post.title}</Link>\n                                {post.body}\n                                \n                                {post.postimageurl&&\n                                    post.postimageurl.map((imageurl,j)=>{\n                                        return (\n                                        <div key={j}>\n                                        <img src={imageurl} className=\"post-image\"></img>\n                                        </div>\n                                        )\n                                    })\n                                }\n                                {post.course}\n                                {post.nickname}\n                                {post.favcount}\n                                {post.librarycount}\n                                {/* {post.timestamp.toString()} */}\n                            </div>\n                     \n                      )\n                            })\n                    \n               \n                }\n            {this.props.user&&\n                this.state.postpage?(\n                    <div>\n                    <div><Post user = {this.state.user} postpage={this.state.postpage} changepost={this.changepost}/></div>\n                    <button onClick={this.changepost}>投稿をやめる</button>\n                    </div>\n                )\n                :\n                (\n                    <a class=\"btn-floating btn-large waves-effect waves-light red\"onClick={this.post}><i class=\"material-icons\">add</i></a>\n                    \n                )\n                \n            }\n                <Route  path='/posts' render={()=><ExactPost  logout={this.logout} user ={this.state.user} isLogging = {this.state.isLogging} index ={this.state.index}/>}/>\n                <Route  path='/posts/:id' render={()=><Detail  logout={this.logout} user ={this.state.user} isLogging = {this.state.isLogging} index ={this.state.index}/>}/>\n                \n            </div>\n        );\n    }\n    \n}\n\nexport default Index\n"]},"metadata":{},"sourceType":"module"}