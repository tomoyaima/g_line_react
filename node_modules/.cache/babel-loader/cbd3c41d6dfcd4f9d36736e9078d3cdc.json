{"ast":null,"code":"var _jsxFileName = \"/Users/imatomo/Desktop/gline-react/src/components/login.js\";\nimport React from \"react\";\nimport \"../bower_components/materialize/dist/css/materialize.css\";\nimport { BrowserRouter, Route, Link } from 'react-router-dom';\nimport { db } from '../firebase';\nimport firebase from '../firebase';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.save = e => {\n      e.preventDefault();\n      const user = firebase.auth().currentUser;\n\n      if (user) {\n        db.collection(\"users\").doc(user.uid).set({\n          name: user.displayName,\n          pic: user.photoURL || '/images/profile_placeholder.png',\n          email: user.email,\n          course: this.state.course,\n          nickname: this.state.nickname\n        }).then(() => {\n          console.log(\"\\u8FFD\\u52A0\\u306B\\u6210\\u529F\\u3057\\u307E\\u3057\\u305F \");\n        }).catch(error => {\n          console.log(\"\\u8FFD\\u52A0\\u306B\\u5931\\u6557\\u3057\\u307E\\u3057\\u305F (\".concat(error, \")\"));\n        });\n      }\n    };\n\n    this.state = {\n      course: '',\n      nickname: ''\n    };\n    this.send = this.save.bind(this);\n  }\n\n  handleInputcourse(event) {\n    this.setState({\n      course: event.target.value\n    });\n  }\n\n  handleInputnickname(event) {\n    this.setState({\n      nickname: event.target.value\n    });\n  }\n\n  render() {\n    console.log(this.props.user);\n    return React.createElement(BrowserRouter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, this.props.user ? React.createElement(\"div\", {\n      className: \"header-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"header-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    })) : React.createElement(\"div\", {\n      className: \"header-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"App-intro\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    })), this.props.user ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"\\u540D\\u524D: \", this.props.user && this.props.user.displayName), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"E-mail: \", this.props.user && this.props.user.email), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.props.user.photoURL || '/images/profile_placeholder.png',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"\\u30CB\\u30C3\\u30AF\\u30CD\\u30FC\\u30E0\\u3092\\u5165\\u529B:\", React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.nickname,\n      onChange: this.handleInputnickname.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"\\u30B3\\u30FC\\u30B9\\u3092\\u5165\\u529B:\", React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.course,\n      onChange: this.handleInputcourse.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    })), this.state.nickname == '' ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"\\u540D\\u524D\\u3092\\u5165\\u529B\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\") : this.state.course == '' ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"\\u30B3\\u30FC\\u30B9\\u3092\\u5165\\u529B\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\") : React.createElement(\"button\", {\n      onClick: this.save,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/index\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"geek-line\\u306B\\u767B\\u9332\")), React.createElement(\"li\", {\n      className: \"gline-logout\",\n      onClick: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"\\u30ED\\u30B0\\u30A2\\u30A6\\u30C8\"))) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    })), React.createElement(\"footer\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"footer-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/imatomo/Desktop/gline-react/src/components/login.js"],"names":["React","BrowserRouter","Route","Link","db","firebase","Login","Component","constructor","props","save","e","preventDefault","user","auth","currentUser","collection","doc","uid","set","name","displayName","pic","photoURL","email","course","state","nickname","then","console","log","catch","error","send","bind","handleInputcourse","event","setState","target","value","handleInputnickname","render","logout"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"../bower_components/materialize/dist/css/materialize.css\";\nimport { BrowserRouter, Route, Link } from 'react-router-dom'\nimport { db } from '../firebase'\nimport firebase from '../firebase'\n\n\n\n\n\nclass Login extends React.Component{\n    constructor(props){\n        super(props)\n        this.state={\n            \n            course: '',\n            nickname: ''\n        }\n        \n    this.send = this.save.bind(this);\n    }\n\n    handleInputcourse(event) {\n        this.setState({\n            \n            course:event.target.value\n        })\n      }　　\n      handleInputnickname(event) {\n        this.setState({\n            nickname: event.target.value\n            \n        })\n      }　\n\n      \n      \n    save=(e)=>{\n        e.preventDefault()\n\n        const user = firebase.auth().currentUser\n        if( user ){\n            db.collection(\"users\").doc(user.uid).set({\n                name: user.displayName,\n                pic: user.photoURL || '/images/profile_placeholder.png',\n                email: user.email,\n                course: this.state.course,\n                nickname:this.state.nickname\n            })\n            .then(() => {\n                console.log(`追加に成功しました `);\n            })\n            .catch((error) => {\n                console.log(`追加に失敗しました (${error})`);\n            });\n        }\n    }\n\n\n    render(){\n        console.log(this.props.user)\n        return(\n            <BrowserRouter>\n            <div>\n                 <header>\n                 { this.props.user?\n                 (\n                    <div className=\"header-content\">\n                        <ul className=\"header-list\">\n\n                        </ul>\n                      \n                    </div>\n                )\n                :\n                (\n                    <div className=\"header-content\">\n\n                        \n                    </div>\n\n                \n                \n\n                )}  \n                </header>\n                <div className=\"main\">\n                <div className=\"App\">\n                     <p className=\"App-intro\">\n        \n        </p>\n\n       \n      </div>\n      {this.props.user ? (\n          <div>\n                <div>名前: {this.props.user && this.props.user.displayName}</div>\n                <div>E-mail: {this.props.user && this.props.user.email}</div>\n                <div><img src  ={this.props.user.photoURL || '/images/profile_placeholder.png'}></img></div>\n                    <div>ニックネームを入力:\n                    <input type='text' value={this.state.nickname} onChange={this.handleInputnickname.bind(this)}/>\n                    </div>\n                    <div>コースを入力:\n                    <input type='text' value={this.state.course} onChange={this.handleInputcourse.bind(this)}/>\n                    </div>\n                    \n\n                        {this.state.nickname == '' ?\n                        (\n                            <div>名前を入力してください</div> \n                        ):(\n                            this.state.course == '' ?\n                            (\n                              <div>コースを入力してください</div> \n                            ):(\n                            <button onClick={this.save}><Link to='/index'>geek-lineに登録</Link></button>\n                            )\n                            \n                        )\n                        }\n                \n                    \n                \n                <li className=\"gline-logout\" onClick={this.logout}><Link to='/'>ログアウト</Link></li>\n                </div>\n                ) : (\n                   <div></div>\n                    )}\n                </div>\n\n                <footer>\n                    <div className=\"footer-content\">\n\n                    </div>\n                </footer>\n            </div>\n            </BrowserRouter>\n        );\n    }\n}\n\n\n\nexport default Login"]},"metadata":{},"sourceType":"module"}