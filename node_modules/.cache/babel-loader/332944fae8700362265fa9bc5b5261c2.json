{"ast":null,"code":"var _jsxFileName = \"/Users/imatomo/Desktop/gline-react/src/components/index.js\";\nimport React from \"react\";\nimport \"../bower_components/materialize/dist/css/materialize.css\";\nimport \"./style.css\";\nimport Post from \"./post\";\nimport { db } from '../firebase';\nimport firebase from '../firebase';\n\nclass Index extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      index: true,\n      pic: \"\",\n      name: \"\",\n      body: \"\",\n      title: \"\",\n      fav: \"\",\n      lib: \"\",\n      plf: \"\",\n      course: \"\" // const postdb = db.collection(\"posts\").doc();\n      // postdb.get().then((postdb)=>{\n      // this.setState({\n      // name : postdb.data().nickname,\n      // body:postdb.data().body,\n      // title:postdb.data().title,\n      // fav:postdb.data().favcount,\n      // lib:postdb.data().librarycount,\n      // plf:postdb.data().pic,\n      // course: userdb.data().course\n      // })\n\n    };\n  }\n\n  componentDidMount() {\n    const user = firebase.auth().currentUser;\n    const userdb = db.collection(\"posts\");\n    userdb.get().then(querySnapshot => {\n      querySnapshot.forEach(userdb => {\n        // doc.data() is never undefined for query doc snapshots\n        console.log(userdb.id, \" => \", userdb.data());\n        this.setState({\n          post_id: db.collection(\"posts\").doc(),\n          name: userdb.data().name,\n          pic: userdb.data().photoURL || '/images/profile_placeholder.png',\n          email: userdb.data().email,\n          course: userdb.data().course,\n          nickname: userdb.data().nickname,\n          body: this.state.body,\n          title: this.state.title,\n          favcount: 0,\n          librarycount: 0,\n          index: true\n        });\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, this.state.body, this.state.favcount, this.state.course);\n  }\n\n}\n\nexport default Index;","map":{"version":3,"sources":["/Users/imatomo/Desktop/gline-react/src/components/index.js"],"names":["React","Post","db","firebase","Index","Component","constructor","state","index","pic","name","body","title","fav","lib","plf","course","componentDidMount","user","auth","currentUser","userdb","collection","get","then","querySnapshot","forEach","console","log","id","data","setState","post_id","doc","photoURL","email","nickname","favcount","librarycount","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,0DAAP;AACA,OAAO,aAAP;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,SAASC,EAAT,QAAmB,aAAnB;AACA,OAAOC,QAAP,MAAqB,aAArB;;AAEA,MAAMC,KAAN,SAAoBJ,KAAK,CAACK,SAA1B,CAAmC;AAC/BC,EAAAA,WAAW,GAAE;AACT;AACA,SAAKC,KAAL,GAAW;AACXC,MAAAA,KAAK,EAAC,IADK;AAEXC,MAAAA,GAAG,EAAC,EAFO;AAGXC,MAAAA,IAAI,EAAG,EAHI;AAIXC,MAAAA,IAAI,EAAC,EAJM;AAKXC,MAAAA,KAAK,EAAC,EALK;AAMXC,MAAAA,GAAG,EAAC,EANO;AAOXC,MAAAA,GAAG,EAAC,EAPO;AAQXC,MAAAA,GAAG,EAAC,EARO;AASXC,MAAAA,MAAM,EAAE,EATG,CAYX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAvBW,KAAX;AA4BH;;AACLC,EAAAA,iBAAiB,GAAE;AAEX,UAAMC,IAAI,GAAGf,QAAQ,CAACgB,IAAT,GAAgBC,WAA7B;AACA,UAAMC,MAAM,GAAGnB,EAAE,CAACoB,UAAH,CAAc,OAAd,CAAf;AACAD,IAAAA,MAAM,CAACE,GAAP,GAAaC,IAAb,CAAmBC,aAAD,IAAmB;AAACA,MAAAA,aAAa,CAACC,OAAd,CAAuBL,MAAD,IAAW;AACnE;AACAM,QAAAA,OAAO,CAACC,GAAR,CAAYP,MAAM,CAACQ,EAAnB,EAAuB,MAAvB,EAA+BR,MAAM,CAACS,IAAP,EAA/B;AAGR,aAAKC,QAAL,CAAc;AACVC,UAAAA,OAAO,EAAG9B,EAAE,CAACoB,UAAH,CAAc,OAAd,EAAuBW,GAAvB,EADA;AAEVvB,UAAAA,IAAI,EAAEW,MAAM,CAACS,IAAP,GAAcpB,IAFV;AAGVD,UAAAA,GAAG,EAAEY,MAAM,CAACS,IAAP,GAAcI,QAAd,IAA0B,iCAHrB;AAIVC,UAAAA,KAAK,EAAEd,MAAM,CAACS,IAAP,GAAcK,KAJX;AAKVnB,UAAAA,MAAM,EAAEK,MAAM,CAACS,IAAP,GAAcd,MALZ;AAMVoB,UAAAA,QAAQ,EAAEf,MAAM,CAACS,IAAP,GAAcM,QANd;AAOVzB,UAAAA,IAAI,EAAE,KAAKJ,KAAL,CAAWI,IAPP;AAQVC,UAAAA,KAAK,EAAE,KAAKL,KAAL,CAAWK,KARR;AASVyB,UAAAA,QAAQ,EAAE,CATA;AAUVC,UAAAA,YAAY,EAAE,CAVJ;AAWV9B,UAAAA,KAAK,EAAG;AAXE,SAAd;AAaH,OAlB6C;AAmB7C,KAnBO;AAoBP;;AAGG+B,EAAAA,MAAM,GAAE;AAEJ,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKhC,KAAL,CAAWI,IADhB,EAEK,KAAKJ,KAAL,CAAW8B,QAFhB,EAGK,KAAK9B,KAAL,CAAWS,MAHhB,CADJ;AAOH;;AApE8B;;AAuEnC,eAAeZ,KAAf","sourcesContent":["import React from \"react\";\nimport \"../bower_components/materialize/dist/css/materialize.css\";\nimport \"./style.css\";\nimport Post from \"./post\"\nimport { db } from '../firebase'\nimport firebase from '../firebase'\n\nclass Index extends React.Component{\n    constructor(){\n        super()\n        this.state={\n        index:true,\n        pic:\"\",\n        name : \"\",\n        body:\"\",\n        title:\"\",\n        fav:\"\",\n        lib:\"\",\n        plf:\"\",\n        course: \"\"\n\n        }\n        // const postdb = db.collection(\"posts\").doc();\n        // postdb.get().then((postdb)=>{\n        // this.setState({\n        // name : postdb.data().nickname,\n        // body:postdb.data().body,\n        // title:postdb.data().title,\n        // fav:postdb.data().favcount,\n        // lib:postdb.data().librarycount,\n        // plf:postdb.data().pic,\n        // course: userdb.data().course\n\n        // })\n\n\n        \n\n    }\ncomponentDidMount(){\n\n        const user = firebase.auth().currentUser\n        const userdb = db.collection(\"posts\")\n        userdb.get().then((querySnapshot) => {querySnapshot.forEach((userdb) =>{\n            // doc.data() is never undefined for query doc snapshots\n            console.log(userdb.id, \" => \", userdb.data());\n       \n\n    this.setState({\n        post_id : db.collection(\"posts\").doc(),\n        name: userdb.data().name,\n        pic: userdb.data().photoURL || '/images/profile_placeholder.png',\n        email: userdb.data().email,\n        course: userdb.data().course,\n        nickname: userdb.data().nickname,\n        body: this.state.body,\n        title: this.state.title,\n        favcount: 0,\n        librarycount: 0,\n        index : true\n    })\n});\n});\n}\n   \n\n    render(){\n        \n        return(\n            <div>\n                {this.state.body}\n                {this.state.favcount}\n                {this.state.course}\n            </div>\n        );\n    }\n}\n\nexport default Index"]},"metadata":{},"sourceType":"module"}