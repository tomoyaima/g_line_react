{"ast":null,"code":"var _jsxFileName = \"/Users/imatomo/Desktop/gline-react/src/components/index.js\";\nimport React from \"react\";\nimport \"../bower_components/materialize/dist/css/materialize.css\";\nimport \"./style.css\";\nimport Post from \"./post\";\nimport { db } from '../firebase';\nimport firebase from '../firebase';\nimport { BrowserRouter, Route, Link } from 'react-router-dom';\n\nclass Index extends React.Component {\n  constructor() {\n    super();\n\n    this.post = () => {\n      this.setState({\n        postpage: true\n      });\n    };\n\n    this.state = {\n      posts: [],\n      postpage: false\n    };\n  }\n\n  componentDidMount() {\n    const postsref = db.collection(\"posts\").orderBy('timestamp', 'desc');\n    postsref.get().then(snapshot => {\n      const posts = snapshot.docs.map(postdoc => {\n        const post = postdoc.data();\n        return {\n          title: post.title,\n          body: post.body,\n          name: post.name,\n          pic: post.pic,\n          course: post.course,\n          nickname: post.nickname,\n          favcount: post.favcount,\n          librarycount: post.librarycount,\n          timestamp: post.timestamp\n        };\n      });\n      this.setState({\n        posts: posts\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, this.state.posts.map(post => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, post.title, post.body, post.name, post.course, post.nickname, post.favcount, post.librarycount, post.timestamp.toString());\n    }), this.state.postpage ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Post, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    })) : React.createElement(\"button\", {\n      onClick: this.post,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"\\u6295\\u7A3F\\u3059\\u308B\"));\n  }\n\n}\n\nexport default Index;","map":{"version":3,"sources":["/Users/imatomo/Desktop/gline-react/src/components/index.js"],"names":["React","Post","db","firebase","BrowserRouter","Route","Link","Index","Component","constructor","post","setState","postpage","state","posts","componentDidMount","postsref","collection","orderBy","get","then","snapshot","docs","map","postdoc","data","title","body","name","pic","course","nickname","favcount","librarycount","timestamp","render","toString"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,0DAAP;AACA,OAAO,aAAP;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,SAASC,EAAT,QAAmB,aAAnB;AACA,OAAOC,QAAP,MAAqB,aAArB;AACA,SAASC,aAAT,EAAwBC,KAAxB,EAA+BC,IAA/B,QAA2C,kBAA3C;;AAEA,MAAMC,KAAN,SAAoBP,KAAK,CAACQ,SAA1B,CAAmC;AAC/BC,EAAAA,WAAW,GAAE;AACT;;AADS,SA0CbC,IA1Ca,GA0CN,MAAK;AAEJ,WAAKC,QAAL,CAAc;AACVC,QAAAA,QAAQ,EAAG;AADD,OAAd;AAIP,KAhDY;;AAET,SAAKC,KAAL,GAAW;AACPC,MAAAA,KAAK,EAAC,EADC;AAEPF,MAAAA,QAAQ,EAAC;AAFF,KAAX;AAIH;;AAELG,EAAAA,iBAAiB,GAAE;AAGX,UAAMC,QAAQ,GAAGd,EAAE,CAACe,UAAH,CAAc,OAAd,EAAuBC,OAAvB,CAA+B,WAA/B,EAA4C,MAA5C,CAAjB;AACAF,IAAAA,QAAQ,CAACG,GAAT,GAAeC,IAAf,CAAqBC,QAAD,IAAc;AAC9B,YAAMP,KAAK,GAAGO,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAoBC,OAAD,IAAY;AAExC,cAAMd,IAAI,GAAGc,OAAO,CAACC,IAAR,EAAb;AAGD,eAAO;AACHC,UAAAA,KAAK,EAAChB,IAAI,CAACgB,KADR;AAEHC,UAAAA,IAAI,EAACjB,IAAI,CAACiB,IAFP;AAGHC,UAAAA,IAAI,EAAClB,IAAI,CAACkB,IAHP;AAIHC,UAAAA,GAAG,EAACnB,IAAI,CAACmB,GAJN;AAKHC,UAAAA,MAAM,EAACpB,IAAI,CAACoB,MALT;AAMHC,UAAAA,QAAQ,EAAErB,IAAI,CAACqB,QANZ;AAOHC,UAAAA,QAAQ,EAAEtB,IAAI,CAACsB,QAPZ;AAQHC,UAAAA,YAAY,EAAEvB,IAAI,CAACuB,YARhB;AASHC,UAAAA,SAAS,EAAExB,IAAI,CAACwB;AATb,SAAP;AAaH,OAlBa,CAAd;AAmBA,WAAKvB,QAAL,CAAc;AACVG,QAAAA,KAAK,EAAGA;AADE,OAAd;AAIH,KAxBD;AA4BH;;AAYDqB,EAAAA,MAAM,GAAE;AAEJ,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAES,KAAKtB,KAAL,CAAWC,KAAX,CAAiBS,GAAjB,CAAsBb,IAAD,IAAU;AAC5B,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKA,IAAI,CAACgB,KADV,EAEKhB,IAAI,CAACiB,IAFV,EAGKjB,IAAI,CAACkB,IAHV,EAMKlB,IAAI,CAACoB,MANV,EAOKpB,IAAI,CAACqB,QAPV,EAQKrB,IAAI,CAACsB,QARV,EASKtB,IAAI,CAACuB,YATV,EAUKvB,IAAI,CAACwB,SAAL,CAAeE,QAAf,EAVL,CADJ;AAeH,KAhBA,CAFT,EAsBK,KAAKvB,KAAL,CAAWD,QAAX,GACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAL,CADH,GAKG;AAAQ,MAAA,OAAO,EAAE,KAAKF,IAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCA3BR,CADJ;AAmCH;;AA1F8B;;AA8FnC,eAAeH,KAAf","sourcesContent":["import React from \"react\";\nimport \"../bower_components/materialize/dist/css/materialize.css\";\nimport \"./style.css\";\nimport Post from \"./post\"\nimport { db } from '../firebase'\nimport firebase from '../firebase'\nimport { BrowserRouter, Route, Link } from 'react-router-dom'\n\nclass Index extends React.Component{\n    constructor(){\n        super()\n        this.state={\n            posts:[],\n            postpage:false\n        }\n    }\n\ncomponentDidMount(){\n\n        \n        const postsref = db.collection(\"posts\").orderBy('timestamp', 'desc')\n        postsref.get().then((snapshot) => {\n            const posts = snapshot.docs.map( (postdoc) =>{\n                \n                 const post = postdoc.data();\n                \n                \n                return {\n                    title:post.title,\n                    body:post.body,\n                    name:post.name,\n                    pic:post.pic,\n                    course:post.course,\n                    nickname: post.nickname,\n                    favcount: post.favcount,\n                    librarycount: post.librarycount,\n                    timestamp: post.timestamp,\n                    \n                }   \n               \n            })\n            this.setState({\n                posts : posts\n            })\n           \n        });\n\n\n\n    }\n\n    post = () =>{\n       \n            this.setState({\n                postpage : true\n            })  \n      \n    }\n\n   \n\n    render(){\n        \n        return(\n            <div>\n                {\n                     this.state.posts.map((post) => { \n                        return ( \n                            <div>\n                                {post.title}\n                                {post.body}\n                                {post.name}\n                                {/* <img src={post.pic}></img> */}\n                               \n                                {post.course}\n                                {post.nickname}\n                                {post.favcount}\n                                {post.librarycount}\n                                {post.timestamp.toString()}\n                            </div>\n                        )\n\n                    })\n                    \n                }\n                \n                {this.state.postpage?(\n                    <div><Post/></div>\n                )\n                :\n                (\n                    <button onClick={this.post}>投稿する</button>\n                )\n\n                }\n                 \n            </div>\n        );\n    }\n    \n}\n\nexport default Index"]},"metadata":{},"sourceType":"module"}